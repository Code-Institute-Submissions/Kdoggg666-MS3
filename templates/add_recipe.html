{% extends "base.html" %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col s12">
                <!-- Page title -->
                <div class="card-panel box-shadow box-color chalk-board center-align">
                    <span class="white-text">
                        <h3 class="underline">Add a recipe</h3>
                    </span>
                    <!-- Add recipe form -->
                    <div class="row center-align">
                        <form class="col s8 offset-s2 white-text" method="POST" action="{{ url_for('add_recipe') }}">
                            <div class="row">
                                <!-- Food name input -->
                                <div class="input-field col s12 ">
                                    <input id="food_name" name="food_name" type="text" class="validate" required>
                                    <label class="white-text" for="food_name">Recipe Name</label>
                                </div>
                            </div>
                            <div class="row">
                                <!-- Nationality input -->
                                <div class="input-field col s12">
                                    <select id="nationality" name="nationality" class="validate">
                                        <option value="" disabled selected>Choose Nationality</option>
                                        <option value="italian">Italian</option>
                                        <option value="british">British</option>
                                        <option value="american">American</option>
                                        <option value="latin">Latin</option>
                                        <option value="middle eastern">Middle Eastern</option>
                                        <option value="asian">Asian</option>'
                                        <option value="indian">Indian</option>
                                        <option value="african">African</option>
                                        <option value="international">International</option>
                                        <option value="european">European</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <!-- Difficulty input -->
                                <div class=" col s12">
                                    <select id="difficulty" name="difficulty" class="validate">
                                        <option value="" disabled selected>Choose difficulty</option>
                                        <option value="Basic"> Basic</option>
                                        <option value="Intermediate"><em>Intermediate</em></option>
                                        <option value="Advanced">Advanced</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <!-- Cook time input input -->
                                <div class="input-field col s12">
                                    <input id="cook_time" type="number" name="cook_time" class="validate" required>
                                    <label class="white-text" for="cook_time">Cooking time in minutes</label>
                                    <!-- Hidden input for image url, returned by the cloudinary upload widget -->
                                    <input id="img_url" type="hidden" name="img_url" class="validate white-text" required>
                                </div>
                            </div>
                            <div class="row">
                                <!-- Ingredients input -->
                                <div class="input-field col s12">
                                    <input id="ing_name" type="text" name="ing_name" class="validate" required>
                                    <label class="white-text" for="ing_name">Ingredient Name</label>
                                </div>
                                <!-- Button to add another field using JS append function -->
                                <a type="button" class="btn green add_field_button right"><i class="fas fa-plus"></i></a>
                            </div>
                            <!-- Container for inputs to be appended by JS function -->
                            <div class="row ingredients_list">
                            </div>
                            <div class="row">
                                <div class="input-field col s12">
                                    <!-- Steps input -->
                                    <input id="steps" type="text" name="steps" class="validate" required>
                                    <label class="white-text" for="steps">Step 1</label>
                                </div>
                                <!-- Button to add another field using JS append function -->
                                <a type="button" class="btn green add_step_button right"><i class="fas fa-plus"></i></a>
                            </div>
                            <!-- Container for inputs to be appended by JS function -->
                            <div class="row step_list">
                            </div>
                            <div class="row center-align">
                                <div class="col s12">
                                    <!-- Button to trigger cloudinary upload widget -->
                                    <button type="button" class="btn-large green box-shadow" href="#"
                                        id="upload_widget">Upload Image</button>
                                    <!-- Submit Button -->    
                                    <button type="submit" class="btn-large grey darken-4 box-shadow">
                                        Submit Recipe <i class="fas fa-sign-in-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Script to trigger the cloudinary widget on button click -->
<script src="{{ url_for('static', filename='js/cloudinatry_widget.js')}}" type="text/javascript"></script>
{% endblock %}